# 0.0.5 Release Plan

Target Date: 2025-09-07 (tentative)
Status: Draft
Owner: Ultra Cube Tech

## Objectives

Intro scope for 0.0.5:

- Graceful API shutdown endpoint (`/shutdown`) triggers plugin `shutdown` hook and telemetry flush.
- Minimal isolation profile scaffolding (seccomp/AppArmor placeholders) in security section.
- Telemetry event schema + shutdown flush coverage test.
- Manifest validation enhancements: negative tests for `services` / `mounts` edge cases.
- CI improvements: publish dry-run on PR version bumps; separate lint workflow.

## Work Items

| ID | Category | Description | Acceptance Criteria |
|----|----------|-------------|---------------------|
| API-01 | API | POST /shutdown endpoint requires token | 200, emits shutdown telemetry, graceful exit test |
| SEC-01 | Security | Isolation profiles enum (strict/balanced/permissive) | Validation + tests for accepted values |
| SEC-02 | Security | Placeholder seccomp/AppArmor profile fields | Optional fields; invalid enum rejected |
| TEL-01 | Telemetry | Event schema constants + validator | Existing events pass; missing field fails |
| TEL-02 | Telemetry | Shutdown flush test (endpoint triggers) | Test asserts flush invoked (monkeypatch) |
| MAN-01 | Manifest | Duplicate container + invalid mounts negative tests | Proper error messages surfaced |
| CI-01 | CI | Lint workflow (ruff) | Workflow passes; added as required check |
| CI-02 | CI | Publish dry-run on PR version bump | Action logs build artifacts only |

## Risks & Mitigations

- Shutdown endpoint could hang if hooks block → enforce timeout wrapper.
- Isolation profiles premature complexity → keep implementation no-op + validation only.

## Release Criteria

- All new tests green (coverage ≥ current threshold).
- Manual smoke test of shutdown endpoint.
- CHANGELOG entry prepared.

## Timeline

Week 1: API-01, TEL-02, TEL-01

Week 2: SEC-01/02, MAN-01, CI items, docs & release tag

---
Draft v1
